{% extends "base.html" %}

{% block contenido %}
    <div class="pagetitle">
      <h1>Crear Usuario</h1>
      <nav>
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="{% url 'store:index' %}">Inicio</a></li>
          <li class="breadcrumb-item"><a href="{% url 'store:user' %}">Listar Usuarios</a></li>
        </ol>
      </nav>
    </div><!-- End Page Title -->

    <section class="section">
      <div class="row">
        <div class="col-lg-12">

          <div class="card">
            <div class="card-body">
              <h5 class="card-title">Usuarios</h5>
              <a class="btn btn-primary pull-right" href="{% url 'store:crear_user' %}">Agregar Usuario</a>
              <!-- Table with stripped rows -->
              <table class="table datatable">
                <thead>
                  <tr>
                    <th scope="col">ID</th>
                    <th scope="col">Usuario</th>
                    <th scope="col">Nombres</th>
                    <th scope="col">Apellidos</th>
                    <th scope="col">Fecha de nacimiento</th>
                    <th scope="col" colspan="2">Acciones</th>
                  </tr>
                </thead>
                <tbody>
                    {% if entity %}
                        {% for usuario in entity %}
                            <tr>                    
                                <th scope="row">{{ usuario.id }}</th>
                                <td>{{ usuario.username }}</td>
                                <td>{{ usuario.firts_name }}</td>
                                <td>{{ usuario.last_name }}</td>
                                <td>{{ usuario.tipo_usuario }}</td>
                                <td>{{ usuario.fecha_nacimiento }}</td>
                                <td>
                                   <div class="btn-group">
                                        <button type="button" class="btn btn-primary dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
                                            Action
                                        </button>
                                        <ul class="dropdown-menu">
                                            <li><a class="dropdown-item" href="{% url 'store:editar_user' usuario.id %}">Editar</a></li>
                                            <li><a class="dropdown-item" href="{% url 'store:del_user' usuario.id %}">Eliminar</a></li>
                                            <li><a class="dropdown-item" href="{% url 'store:detalle_user' usuario.id %}">Detalle de Usuario</a></li>
                                        </ul>
                                    </div>
                                </td>
                            </tr>
                        {% endfor %}
                    {% else %}
                        <p>No hay registros que mostrar</p>
                  {% endif %}
                </tbody>
              </table>
              <!-- End Table with stripped rows -->

            </div>
          </div>

        </div>
      </div>
    </section>
{% endblock %}


{% load static %}

{% block extra-script %}
    <script src="{% static 'assets/js/proces_usuario/listar_usuarios.js' %}"></script>
{% endblock %}